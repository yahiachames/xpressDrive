{"version":3,"sources":["useOnProgressChange.ts"],"names":["useOnProgressChange","opts","offsetX","rawData","size","onProgressChange","value","_value","length","DATA_LENGTH","SINGLE_ITEM","DOUBLE_ITEM","absoluteProgress","Math","abs","runOnJS"],"mappings":"yGAAA,8DAIA,uCAGO,QAASA,CAAAA,mBAAT,CACHC,IADG,CAML,CACE,GAAQC,CAAAA,OAAR,CAAqDD,IAArD,CAAQC,OAAR,CAAiBC,OAAjB,CAAqDF,IAArD,CAAiBE,OAAjB,CAA0BC,IAA1B,CAAqDH,IAArD,CAA0BG,IAA1B,CAAgCC,gBAAhC,CAAqDJ,IAArD,CAAgCI,gBAAhC,CACA,iEACI,oBAAMH,CAAAA,OAAO,CAACI,KAAd,EADJ,sBAdGJ,OAcH,sTAEKK,MAFL,CAEgB,CACR,GAAID,CAAAA,KAAK,CAAGC,MAAZ,CAEA,GAAIJ,OAAO,CAACK,MAAR,GAAmBC,uBAAYC,WAAnC,CAAgD,CAC5CJ,KAAK,CAAGA,KAAK,CAAGF,IAAhB,CACH,CAED,GAAID,OAAO,CAACK,MAAR,GAAmBC,uBAAYE,WAAnC,CAAgD,CAC5CL,KAAK,CAAGA,KAAK,EAAIF,IAAI,CAAG,CAAX,CAAb,CACH,CAED,GAAIQ,CAAAA,gBAAgB,CAAGC,IAAI,CAACC,GAAL,CAASR,KAAK,CAAGF,IAAjB,CAAvB,CAEA,GAAIE,KAAK,CAAG,CAAZ,CAAe,CACXM,gBAAgB,CAAGT,OAAO,CAACK,MAAR,CAAiBI,gBAApC,CACH,CAED,CAAC,CAACP,gBAAF,EACI,mCAAQA,gBAAR,EAA0BC,KAA1B,CAAiCM,gBAAjC,CADJ,CAEH,CArBL,sBAAmBT,OAAnB,0BAXqBM,uBAAYC,WAWjC,aAPqBD,uBAAYE,WAOjC,OAHsCP,IAGtC,kBAG4BC,gBAH5B,SAGoBU,8BAHpB,onBAsBI,CAACV,gBAAD,CAAmBF,OAAnB,CAtBJ,EAwBH","sourcesContent":["import Animated, {\n    runOnJS,\n    useAnimatedReaction,\n} from 'react-native-reanimated';\nimport { DATA_LENGTH } from '../constants';\nimport type { TCarouselProps } from '../types';\n\nexport function useOnProgressChange(\n    opts: {\n        size: number;\n        offsetX: Animated.SharedValue<number>;\n        rawData: TCarouselProps['data'];\n    } & Pick<TCarouselProps, 'onProgressChange'>\n) {\n    const { offsetX, rawData, size, onProgressChange } = opts;\n    useAnimatedReaction(\n        () => offsetX.value,\n        (_value) => {\n            let value = _value;\n\n            if (rawData.length === DATA_LENGTH.SINGLE_ITEM) {\n                value = value % size;\n            }\n\n            if (rawData.length === DATA_LENGTH.DOUBLE_ITEM) {\n                value = value % (size * 2);\n            }\n\n            let absoluteProgress = Math.abs(value / size);\n\n            if (value > 0) {\n                absoluteProgress = rawData.length - absoluteProgress;\n            }\n\n            !!onProgressChange &&\n                runOnJS(onProgressChange)(value, absoluteProgress);\n        },\n        [onProgressChange, rawData]\n    );\n}\n"]}